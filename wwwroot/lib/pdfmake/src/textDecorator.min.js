/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/pdfmake@0.1.68/src/textDecorator.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";var isArray=require("./helpers").isArray;function groupDecorations(r){for(var e=[],o=null,i=0,n=r.inlines.length;i<n;i++){var t=r.inlines[i],l=t.decoration;if(l){isArray(l)||(l=[l]);for(var a=t.decorationColor||t.color||"black",c=t.decorationStyle||"solid",d=0,s=l.length;d<s;d++){var f=l[d];o&&f===o.decoration&&c===o.decorationStyle&&a===o.decorationColor?o.inlines.push(t):(o={line:r,decoration:f,decorationColor:a,decorationStyle:c,inlines:[t]},e.push(o))}}else o=null}return e}function drawDecoration(r,e,o,i){var n=r.inlines[0],t=function(){for(var e=0,o=0,i=r.inlines.length;o<i;o++)e=r.inlines[o].fontSize>e?o:e;return r.inlines[e]}(),l=function(){for(var e=0,o=0,i=r.inlines.length;o<i;o++){var n=r.inlines[o].justifyShift||0;e+=r.inlines[o].width+n}return e}(),a=r.line.getAscenderHeight(),c=t.font.ascender/1e3*t.fontSize,d=t.height-c,s=.5+.12*Math.floor(Math.max(t.fontSize-8,0)/2);switch(r.decoration){case"underline":o+=a+.45*d;break;case"overline":o+=a-.85*c;break;case"lineThrough":o+=a-.25*c;break;default:throw"Unkown decoration : "+r.decoration}if(i.save(),"double"===r.decorationStyle){var f=Math.max(.5,2*s);i.fillColor(r.decorationColor).rect(e+n.x,o-s/2,l,s/2).fill().rect(e+n.x,o+f-s/2,l,s/2).fill()}else if("dashed"===r.decorationStyle){var u=Math.ceil(l/6.8),h=e+n.x;i.rect(h,o,l,s).clip(),i.fillColor(r.decorationColor);for(var v=0;v<u;v++)i.rect(h,o-s/2,3.96,s).fill(),h+=6.8}else if("dotted"===r.decorationStyle){var g=Math.ceil(l/(3*s)),C=e+n.x;i.rect(C,o,l,s).clip(),i.fillColor(r.decorationColor);for(var w=0;w<g;w++)i.rect(C,o-s/2,s,s).fill(),C+=3*s}else if("wavy"===r.decorationStyle){var y=Math.ceil(l/1.4)+1,S=e+n.x-1;i.rect(e+n.x,o-1,l,o+1).clip(),i.lineWidth(.24),i.moveTo(S,o);for(var k=0;k<y;k++)i.bezierCurveTo(S+.7,o-1,S+1.4,o-1,S+.7*3,o).bezierCurveTo(S+2.8,o+1,S+3.5,o+1,S+.7*6,o),S+=.7*6;i.stroke(r.decorationColor)}else i.fillColor(r.decorationColor).rect(e+n.x,o-s/2,l,s).fill();i.restore()}function drawDecorations(r,e,o,i){for(var n=groupDecorations(r),t=0,l=n.length;t<l;t++)drawDecoration(n[t],e,o,i)}function drawBackground(r,e,o,i){for(var n=r.getHeight(),t=0,l=r.inlines.length;t<l;t++){var a=r.inlines[t];if(a.background){var c=a.justifyShift||0;i.fillColor(a.background).rect(e+a.x-c,o,a.width+c,n).fill()}}}module.exports={drawBackground:drawBackground,drawDecorations:drawDecorations};
//# sourceMappingURL=/sm/08c5833bc6d21b554ff14574997e079b55d87982aaaf10884c2e2b0113a5d7a6.map