/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/pdfmake@0.1.68/gulpfile.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
var gulp=require("gulp"),webpack=require("webpack"),mocha=require("gulp-spawn-mocha"),eslint=require("gulp-eslint"),each=require("gulp-each"),fc2json=require("gulp-file-contents-to-json"),log=require("fancy-log"),exec=require("child_process").exec;const fs=require("fs");var DEBUG="debug"===process.env.NODE_ENV,CI="true"===process.env.CI,vfsBefore="this.pdfMake = this.pdfMake || {}; this.pdfMake.vfs = ",vfsAfter=";";gulp.task("build",function(e){webpack(require("./webpack.config.js"),function(t,r){t?e(t):(log("[webpack]",r.toString({})),r.compilation.errors&&r.compilation.errors.length?e(r.compilation.errors):e())})}),gulp.task("buildWithStandardFonts",function(e){webpack(require("./webpack-standardfonts.config.js"),function(t,r){t?e(t):(log("[webpack]",r.toString({})),r.compilation.errors&&r.compilation.errors.length?e(r.compilation.errors):e())})}),gulp.task("test",function(){return gulp.src(["./tests/**/*.js"]).pipe(mocha({debugBrk:DEBUG,R:CI?"spec":"nyan"}))}),gulp.task("lint",function(){return gulp.src(["./src/**/*.js"]).pipe(eslint()).pipe(eslint.format()).pipe(eslint.failAfterError())}),gulp.task("buildFonts",function(){return gulp.src(["./examples/fonts/*.*"]).pipe(each(function(e,t,r){r(null,Buffer.from(e).toString("base64"))},"buffer")).pipe(fc2json("vfs_fonts.js",{flat:!0})).pipe(each(function(e,t,r){r(null,vfsBefore+e+vfsAfter)},"buffer")).pipe(gulp.dest("build"))}),gulp.task("watch",function(){gulp.watch("./src/**",["test","build"]),gulp.watch("./tests/**",["test"])}),gulp.task("generateExamples",function(e){var t=0,r=0;process.chdir("examples");const s=fs.readdirSync(".").filter(e=>".js"===e.substring(e.length-3,e.length));s.forEach(function(n){exec(`node ${n}`,function(i,o,l){log("FILE: ",n,` (${++r}/${s.length})`),log(o),i&&(t++,log(l)),r===s.length&&(t&&log("Errors count: ",t),e())})})}),gulp.task("default",gulp.series("test","build","buildFonts"));
//# sourceMappingURL=/sm/237ef7a56aa9abe538b1de523ae61f5b500f5df97fe1acd780d86893674d8aa9.map