/**
 * Minified by jsDelivr using Terser v3.14.1.
 * Original file: /npm/pdfmake@0.1.68/src/browser-extensions/pdfMake.js
 *
 * Do NOT use SRI with dynamically generated files! More information: https://www.jsdelivr.com/using-sri-with-dynamic-files
 */
"use strict";var isFunction=require("../helpers").isFunction,isUndefined=require("../helpers").isUndefined,isNull=require("../helpers").isNull,FileSaver=require("file-saver"),saveAs=FileSaver.saveAs,defaultClientFonts={Roboto:{normal:"Roboto-Regular.ttf",bold:"Roboto-Medium.ttf",italics:"Roboto-Italic.ttf",bolditalics:"Roboto-MediumItalic.ttf"}};function Document(t,e,o,n){this.docDefinition=t,this.tableLayouts=e||null,this.fonts=o||defaultClientFonts,this.vfs=n}function canCreatePdf(){return!(!Object.keys||"undefined"==typeof Uint16Array)}Document.prototype._createDoc=function(t,e){t=t||{},this.tableLayouts&&(t.tableLayouts=this.tableLayouts);var o=new(require("../printer"))(this.fonts);if(require("fs").bindFS(this.vfs),!isFunction(e))return o.createPdfKitDocument(this.docDefinition,t);var n=new(require("./URLBrowserResolver"))(require("fs"));for(var i in this.fonts)this.fonts.hasOwnProperty(i)&&(this.fonts[i].normal&&n.resolve(this.fonts[i].normal),this.fonts[i].bold&&n.resolve(this.fonts[i].bold),this.fonts[i].italics&&n.resolve(this.fonts[i].italics),this.fonts[i].bolditalics&&n.resolve(this.fonts[i].bolditalics));if(this.docDefinition.images)for(var r in this.docDefinition.images)this.docDefinition.images.hasOwnProperty(r)&&n.resolve(this.docDefinition.images[r]);var a=this;n.resolved().then(function(){var n=o.createPdfKitDocument(a.docDefinition,t);e(n)},function(t){throw t})},Document.prototype._flushDoc=function(t,e){var o,n=[];t.on("readable",function(){for(var e;null!==(e=t.read(9007199254740991));)n.push(e)}),t.on("end",function(){o=Buffer.concat(n),e(o,t._pdfMakePages)}),t.end()},Document.prototype._getPages=function(t,e){if(!e)throw"_getPages is an async method and needs a callback argument";var o=this;this._createDoc(t,function(t){o._flushDoc(t,function(t,o){e(o)})})},Document.prototype._bufferToBlob=function(t){var e;try{e=new Blob([t],{type:"application/pdf"})}catch(n){if("InvalidStateError"===n.name){var o=new Uint8Array(t);e=new Blob([o.buffer],{type:"application/pdf"})}}if(!e)throw"Could not generate blob";return e},Document.prototype._openWindow=function(){var t=window.open("","_blank");if(null===t)throw"Open PDF in new window blocked by browser";return t},Document.prototype._openPdf=function(t,e){e||(e=this._openWindow());try{this.getBlob(function(t){var o=(window.URL||window.webkitURL).createObjectURL(t);e.location.href=o},t)}catch(t){throw e.close(),t}},Document.prototype.open=function(t,e){(t=t||{}).autoPrint=!1,e=e||null,this._openPdf(t,e)},Document.prototype.print=function(t,e){(t=t||{}).autoPrint=!0,e=e||null,this._openPdf(t,e)},Document.prototype.download=function(t,e,o){isFunction(t)&&(isUndefined(e)||(o=e),e=t,t=null),t=t||"file.pdf",this.getBlob(function(o){saveAs(o,t),isFunction(e)&&e()},o)},Document.prototype.getBase64=function(t,e){if(!t)throw"getBase64 is an async method and needs a callback argument";this.getBuffer(function(e){t(e.toString("base64"))},e)},Document.prototype.getDataUrl=function(t,e){if(!t)throw"getDataUrl is an async method and needs a callback argument";this.getBuffer(function(e){t("data:application/pdf;base64,"+e.toString("base64"))},e)},Document.prototype.getBlob=function(t,e){if(!t)throw"getBlob is an async method and needs a callback argument";var o=this;this.getBuffer(function(e){var n=o._bufferToBlob(e);t(n)},e)},Document.prototype.getBuffer=function(t,e){if(!t)throw"getBuffer is an async method and needs a callback argument";var o=this;this._createDoc(e,function(e){o._flushDoc(e,function(e){t(e)})})},Document.prototype.getStream=function(t,e){if(!isFunction(e))return this._createDoc(t);this._createDoc(t,function(t){e(t)})},module.exports={createPdf:function(t,e,o,n){if(!canCreatePdf())throw"Your browser does not provide the level of support needed";return new Document(t,e||global.pdfMake.tableLayouts,o||global.pdfMake.fonts,n||global.pdfMake.vfs)}};
//# sourceMappingURL=/sm/2dc57f5ff92e15aee5ea16e528a12cfc0ea1ee8f591779c381eb436ba71624fc.map